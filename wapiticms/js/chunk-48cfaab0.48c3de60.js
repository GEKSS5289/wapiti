(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48cfaab0"],{"6f6e":function(t,e,a){},"833f":function(t,e,a){"use strict";a("6f6e")},edb7:function(t,e,a){"use strict";a.r(e);var s=a("7a23");const c=Object(s["D"])("data-v-01f7ea78");Object(s["s"])("data-v-01f7ea78");const l={key:0,class:"release-task-list"},n={class:"task-name"},i={key:0,style:{"font-size":"15px","margin-left":"10px"}},o={class:"task-remark"},r={class:"task-info"},d={key:1,class:"task-status"},b={key:2,class:"task-status"},u={class:"task-performer"},k={key:1,class:"no-task"},O={class:"release-task-center"},j=Object(s["g"])("h1",{style:{"text-align":"left","margin-bottom":"20px"}},"发布任务",-1),p={class:"task-write-info"},g={class:"task-select-level"},h={class:"push"},m={class:"admin-emoji"},f={class:"admin-name"};Object(s["q"])();const v=c((function(t,e,a,c,v,y){return Object(s["p"])(),Object(s["d"])("div",{class:["task-mng-box",{"loginfo-transition-begin":t.loginfoStatus,"loginfo-transition-end":!t.loginfoStatus}]},[0!=t.taskData.datas.length?(Object(s["p"])(),Object(s["d"])("div",l,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(t.taskData.datas,(e,a)=>(Object(s["p"])(),Object(s["d"])("div",{class:["release-task-item",{"low-task":0==e.taskLevel,"middle-task":1==e.taskLevel,"hight-task":2==e.taskLevel}]},[Object(s["g"])("h1",n,[Object(s["f"])(Object(s["y"])(e.taskTitle),1),e.finishTime?(Object(s["p"])(),Object(s["d"])("span",i,"完成时间:"+Object(s["y"])(e.finishTime),1)):Object(s["e"])("",!0)]),Object(s["g"])("h2",o,Object(s["y"])(e.taskContent),1),Object(s["g"])("div",r,[2!=e.taskStatus&&1!=e.taskStatus?(Object(s["p"])(),Object(s["d"])("h2",{key:0,class:"task-abolish",onClick:a=>t.abolish(e.id)},"废除",8,["onClick"])):Object(s["e"])("",!0),1==e.taskStatus?(Object(s["p"])(),Object(s["d"])("h2",d,"已完成")):Object(s["e"])("",!0),0==e.taskStatus?(Object(s["p"])(),Object(s["d"])("h2",b,"未完成")):Object(s["e"])("",!0),Object(s["g"])("h2",u,"执行人:"+Object(s["y"])(e.executorName),1)])],2))),256))])):(Object(s["p"])(),Object(s["d"])("h1",k,"😱你还没有发布任务呢")),Object(s["g"])("div",O,[j,Object(s["g"])("div",p,[Object(s["C"])(Object(s["g"])("input",{class:"write-task-name",type:"text",placeholder:"任务名","onUpdate:modelValue":e[1]||(e[1]=e=>t.pushData.taskTitle=e)},null,512),[[s["A"],t.pushData.taskTitle]]),Object(s["C"])(Object(s["g"])("textarea",{class:"write-task-content",placeholder:"任务描述","onUpdate:modelValue":e[2]||(e[2]=e=>t.pushData.taskContent=e)},null,512),[[s["A"],t.pushData.taskContent]]),Object(s["g"])("div",g,[Object(s["g"])("h1",{class:["level-low",{"level-low-select":0==t.pushData.taskLevel}],onClick:e[3]||(e[3]=e=>t.selectLevel(0))},"低优先",2),Object(s["g"])("h1",{class:["level-middle",{"level-middle-select":1==t.pushData.taskLevel}],onClick:e[4]||(e[4]=e=>t.selectLevel(1))},"中优先",2),Object(s["g"])("h1",{class:["level-hight",{"level-hight-select":2==t.pushData.taskLevel}],onClick:e[5]||(e[5]=e=>t.selectLevel(2))},"高优先",2)]),Object(s["g"])("div",h,[t.selectStatus?(Object(s["p"])(),Object(s["d"])("div",{key:0,class:"select-performer",onClick:e[6]||(e[6]=(...e)=>t.selectAdmin(...e))},"选择执行人")):(Object(s["p"])(),Object(s["d"])("div",{key:1,class:"select-performer",onClick:e[7]||(e[7]=(...e)=>t.selectAdmin(...e))},"执行人:"+Object(s["y"])(t.pushData.executorName),1)),Object(s["g"])("div",{class:"push-task-btn",onClick:e[8]||(e[8]=(...e)=>t.pushTask(...e))},"发布任务"),Object(s["g"])("h1",{class:["error-msg",{"loginfo-transition-begin":!t.pushData.errorMsg,"loginfo-transition-end":t.pushData.errorMsg}]},Object(s["y"])(t.pushData.errorMsg),3)])]),Object(s["g"])("div",{class:["performer-list",{"loginfo-transition-begin":!t.adminsStatus,"loginfo-transition-end":t.adminsStatus}]},[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(t.adminData.datas,(e,a)=>(Object(s["p"])(),Object(s["d"])("div",{class:"performer-item",onClick:a=>t.assign(e.id,e.adminName)},[Object(s["g"])("h1",m,Object(s["y"])(e.adminFace),1),Object(s["g"])("h1",f,Object(s["y"])(e.adminName),1)],8,["onClick"]))),256))],2)])],2)}));var y=a("9ab4"),C=a("5502"),D=a("bc3a"),x=a.n(D),L=a("c645"),I=a("afbc"),S=a("3228"),T=Object(s["h"])({name:"TaskMng",setup:function(){Object(C["b"])();var t=Object(s["u"])(!1),e=Object(s["u"])(!0),a=Object(s["t"])({executorId:"",publisherId:Number(JSON.parse(sessionStorage.getItem("payload")).adminId),taskTitle:"",taskContent:"",taskLevel:0,executorName:"",errorMsg:""}),c=Object(s["t"])({datas:Array()}),l=Object(s["t"])({datas:Array()});function n(){x.a.get(L["a"].apiUrl.task+"rel/"+Number(JSON.parse(sessionStorage.getItem("payload")).adminId)).then((function(t){console.log(t);for(var e=0;e<t.data.data.length;e++)l.datas.push(t.data.data[e])}))}function i(){x.a.get(L["a"].apiUrl.admin).then((function(t){for(var e=0;e<t.data.data.length;e++)c.datas.push(t.data.data[e])}))}function o(){t.value=!t.value}function r(t,s){e.value=!1,a.executorId=t,a.executorName=s,console.log(s),o()}function d(t){a.taskLevel=t}function b(){x.a.post(L["a"].apiUrl.task,{executorId:a.executorId,publisherId:a.publisherId,taskTitle:a.taskTitle,taskContent:a.taskContent,taskLevel:a.taskLevel}).then((function(t){console.log(t),I["a"].go(0)})).catch((function(t){t.data.executorId?a.errorMsg=t.data.executorId:t.data.taskTitle?a.errorMsg=t.data.taskTitle:t.data.taskContent?a.errorMsg=t.data.taskContent:t.data.taskLevel?a.errorMsg=t.data.taskLevel:a.errorMsg=t.data.publisherId}))}function u(t){x.a.put(L["a"].apiUrl.task+"abolish/"+t).then((function(t){console.log(t),I["a"].go(0)}))}return i(),n(),Object(y["a"])({pushData:a,taskData:l,adminData:c,adminsStatus:t,selectAdmin:o,selectStatus:e,selectLevel:d,assign:r,pushTask:b,abolish:u},Object(S["a"])())}});a("833f");T.render=v,T.__scopeId="data-v-01f7ea78";e["default"]=T}}]);
//# sourceMappingURL=chunk-48cfaab0.48c3de60.js.map